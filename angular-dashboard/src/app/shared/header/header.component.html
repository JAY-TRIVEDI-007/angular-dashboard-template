<div class="drawer lg:drawer-open">
  <input id="sidebar-toggle" type="checkbox" class="drawer-toggle"/>
  <div class="drawer-content flex flex-col">
    <!-- Navbar -->
    <div class="navbar bg-base-100 w-full shadow-lg justify-between">
      <div class="flex-none lg:hidden">
        <label for="sidebar-toggle" aria-label="open sidebar" class="btn btn-square btn-ghost">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            class="inline-block h-6 w-6 stroke-current">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </label>
      </div>
      <div class="mx-2 flex-1 px-2 text-xl font-bold">{{ headerTitle() }}</div>
      <div class="flex gap-2 align-middle">
        <div class="dropdown dropdown-end">
          <div tabindex="0" role="button" class="btn btn-ghost avatar p-0 btn-circle" (click)="toggleUserMenu()">
            <div class="w-10 rounded-full">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                   stroke="currentColor" class="size-10">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
              </svg>
            </div>
          </div>
          <ul
            tabindex="0"
            class="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow" [ngStyle]="{'visibility': !isShowUserMenu() ? 'hidden' : 'visible'}">
            <li>
              <a class="justify-between" [routerLink]="'/profile'" (click)="toggleUserMenu()">
                Profile
              </a>
            </li>
            <li><a (click)="logout()">Logout</a></li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Page content here -->
    <ng-content></ng-content>
  </div>

  <div class="drawer-side">
    <label for="sidebar-toggle" aria-label="close sidebar" class="drawer-overlay"></label>
    <div class="min-h-full bg-blue-900" [ngClass]="isDrawerCollapsed() ? 'w-20' : 'w-72'">
      <div class="p-3 flex justify-between align-middle">
        <img src="assets/img/jaytrivedi-logo-white.png" alt="logo" class="w-3/5" *ngIf="!isDrawerCollapsed()">

        <button class="hidden lg:block btn btn-ghost cursor-pointer delay-75 transition-all" (click)="toggleDrawerCollapse()" [ngClass]="{'rotate-180': isDrawerCollapsed()}">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
               stroke="currentColor" class="size-6 text-white">
            <path stroke-linecap="round" stroke-linejoin="round" d="m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"/>
          </svg>
        </button>

        <label for="sidebar-toggle" class="lg:hidden btn btn-circle btn-ghost cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
               stroke="currentColor" class="size-6 text-white">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/>
          </svg>
        </label>
      </div>
      <ul class="menu mt-6 text-lg text-white font-light [&>li]:mb-1.5" [ngClass]="isDrawerCollapsed() ? 'p-2' : 'p-4'">
        <li>
          <a [routerLink]="''" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" [ngClass]="isDrawerCollapsed() ? 'size-8' : 'size-6'">
              <path stroke-linecap="round" stroke-linejoin="round"
                    d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"/>
            </svg>
            <span *ngIf="!isDrawerCollapsed()">Home</span>
          </a>
        </li>
        <li>
          <a [routerLink]="'/users'" routerLinkActive="active">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" [ngClass]="isDrawerCollapsed() ? 'size-8' : 'size-6'">
              <path stroke-linecap="round" stroke-linejoin="round"
                    d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"/>
            </svg>
            <span *ngIf="!isDrawerCollapsed()">Users</span>
          </a>
        </li>
        <li>
          <a [routerLink]="'/profile'" routerLinkActive="active">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" [ngClass]="isDrawerCollapsed() ? 'size-8' : 'size-6'">
              <path stroke-linecap="round" stroke-linejoin="round"
                    d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
            </svg>
            <span *ngIf="!isDrawerCollapsed()">Profile</span>
          </a>
        </li>
        <li>
          <a>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" [ngClass]="isDrawerCollapsed() ? 'size-8' : 'size-6'">
              <path stroke-linecap="round" stroke-linejoin="round"
                    d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"/>
            </svg>
            <span *ngIf="!isDrawerCollapsed()" (click)="logout()">Logout</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
